(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{386:function(t,a,v){"use strict";v.r(a);var _=v(28),s=Object(_.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"_9-도메인-모델과-경계"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_9-도메인-모델과-경계"}},[t._v("#")]),t._v(" 9. 도메인 모델과 경계")]),t._v(" "),a("ul",[a("li",[t._v("한 개의 모델로 여러 하위 도메인을 모두 표현하려고 시도하면 안됨\n"),a("ul",[a("li",[t._v("ex1) 재고 관리, 주문, 배송에서 의미하는 상품 도메인의 의미가 모두 다름")]),t._v(" "),a("li",[t._v("ex2) 시스템을 사용하는 도메인에서는 회원, 주문에서는 주문자, 배송에서는 보내는 사람")])])]),t._v(" "),a("li",[t._v("특정한 문맥 하에서 서로 다른 의미를 가질 수 있으므로 하위 도메인마다 모델을 만들어야 하며 이러한 경계를 "),a("strong",[t._v("바운디드 컨텍스트")]),t._v("("),a("strong",[t._v("Bounded Context")]),t._v(")라 부름")])]),t._v(" "),a("h2",{attrs:{id:"바운디드-컨텍스트"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#바운디드-컨텍스트"}},[t._v("#")]),t._v(" 바운디드 컨텍스트")]),t._v(" "),a("ul",[a("li",[t._v("바운디드 컨텍스트는 모델의 경계를 결정\n"),a("img",{attrs:{src:"https://velog.velcdn.com/images/andy230/post/effa5611-d706-4a04-b8e7-3c18aa133025/image.png",alt:""}})]),t._v(" "),a("li",[t._v("한 개의 바운디드 컨텍스트는 논리적으로 한 개의 모델을 가짐")]),t._v(" "),a("li",[t._v("한 바운디드 컨텍스트는 실제로 사용자에게 기능을 제공하는 물리적 시스템\n"),a("img",{attrs:{src:"https://velog.velcdn.com/images/andy230/post/94382466-803c-43fd-8d8a-495390612548/image.png",alt:""}})]),t._v(" "),a("li",[t._v("규모가 작은 기업은 전체 시스템을 하나의 팀에서 구현할 때도 있음")]),t._v(" "),a("li",[t._v("이럴 때 여러 하위 도메인을 하나의 바운디드 컨텍스트 안에서 구현해야 하는데 이떄 하위 도메인이 섞이지 않도록 해야함")]),t._v(" "),a("li",[t._v("하위 도메인마다 구분되는 패키지를 갖도록 하여 바운디드 컨텍스트를 만들어야 함\n"),a("img",{attrs:{src:"https://velog.velcdn.com/images/andy230/post/f18fbce4-1c8d-4de3-933e-defd870cf174/image.png",alt:""}})]),t._v(" "),a("li",[t._v("회원의 Member와 주문의 Orderer (애그리거트 루트, 밸류)\n"),a("ul",[a("li",[t._v("각각 다른 엔티티는 아니고 주문 바운디드 컨텍스트에서 값만 VO(Value Object)로 사용")])])]),t._v(" "),a("li",[t._v("카탈로그와 재고 바운디드 컨텍스트 (둘다 애그리거트)")]),t._v(" "),a("li",[t._v("카탈로그와 재고 바운디드 컨텍스트 각각에서 엔티티를 정의")])]),t._v(" "),a("h2",{attrs:{id:"바운디드-컨텍스트-구현"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#바운디드-컨텍스트-구현"}},[t._v("#")]),t._v(" 바운디드 컨텍스트 구현")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://velog.velcdn.com/images/andy230/post/290d42d2-fa5e-4eb9-81b9-585d3e9c1f8b/image.png",alt:""}})]),t._v(" "),a("ul",[a("li",[t._v("바운디드 컨텍스트에서는 표현, 응용, 인프라 및 테이블 스키마까지 포함됨")]),t._v(" "),a("li",[t._v("바운디드 컨텍스트마다 정해진 구현 방법은 없고 서로 다른 아키텍처, 구현 기술를 사용할 수 있음")])]),t._v(" "),a("h2",{attrs:{id:"바운디드-컨텍스트-간-통합"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#바운디드-컨텍스트-간-통합"}},[t._v("#")]),t._v(" 바운디드 컨텍스트 간 통합")]),t._v(" "),a("h3",{attrs:{id:"직접적인-바운디드-컨텍스트-통합"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#직접적인-바운디드-컨텍스트-통합"}},[t._v("#")]),t._v(" 직접적인 바운디드 컨텍스트 통합")]),t._v(" "),a("ul",[a("li",[t._v("상품 추천 기능이 추가 된다 하면 추천 바운디드 컨텍스트가 새로 생김\n"),a("ul",[a("li",[t._v("상품 추천 기능 도메인 서비스는 인프라 영역에 위치")])])]),t._v(" "),a("li",[t._v("받아온 데이터를 현재 도메인의 Product 모델로 변환하는 작업 등도 수행")])]),t._v(" "),a("h3",{attrs:{id:"간접적인-바운디드-컨텍스트-통합"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#간접적인-바운디드-컨텍스트-통합"}},[t._v("#")]),t._v(" 간접적인 바운디드 컨텍스트 통합")]),t._v(" "),a("ul",[a("li",[t._v("메시지 큐 사용\n"),a("ul",[a("li",[t._v("사용자가 조회한 상품 이력 등을 메시지 큐로 전달")])])])]),t._v(" "),a("h2",{attrs:{id:"msa와-바운디드-컨텍스트"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#msa와-바운디드-컨텍스트"}},[t._v("#")]),t._v(" MSA와 바운디드 컨텍스트")]),t._v(" "),a("ul",[a("li",[t._v("MSA는 개별 서비스를 독립된 프로세스로 실행하고 각 서비스가 REST API나 메시징을 통해 통신하는 구조")]),t._v(" "),a("li",[t._v("바운디드 컨텍스트와 잘 어울림 - 바운디드 컨텍스트를 MSA로 구현하면 자연스럽게 컨텍스트 별로 모델이 분리됨")])]),t._v(" "),a("h2",{attrs:{id:"바운디드-컨텍스트-간-관계"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#바운디드-컨텍스트-간-관계"}},[t._v("#")]),t._v(" 바운디드 컨텍스트 간 관계")]),t._v(" "),a("ul",[a("li",[t._v("가장 흔한 바운디드 컨텍스트 연결 방식은 API 제공 및 호출")]),t._v(" "),a("li",[t._v("API 제공 측에 의존하게 됨")]),t._v(" "),a("li",[t._v("그래서 두 팀이 서로 개발 계획을 공유하고 일정을 협의해야 함\n"),a("img",{attrs:{src:"https://leejaedoo.github.io/assets/img/bounded_context2.jpg",alt:""}})]),t._v(" "),a("li",[t._v("여기서 RecSystemClient는 외부 시스템의 도메인이 침범하지 않도록 막아주는 역할")]),t._v(" "),a("li",[t._v("해당 부분이 모델 변환을 처리해주기 때문에 다른 바운디드 컨텍스트의 모델에 영향을 받지 않고 내 도메인 모델을 유지할 수 있음")])]),t._v(" "),a("h3",{attrs:{id:"공유-커널"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#공유-커널"}},[t._v("#")]),t._v(" 공유 커널")]),t._v(" "),a("ul",[a("li",[t._v("두 바운디드 컨텍스트가 같은 공유하는 모델을 가질 때 이를 공유 커널이라 함")]),t._v(" "),a("li",[t._v("중복을 줄일 수 있지만, 한 팀에서 임의로 모델을 변경해서는 안되며, 두 팀이 밀접한 관계를 유지해야 함")])]),t._v(" "),a("h2",{attrs:{id:"독립-방식"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#독립-방식"}},[t._v("#")]),t._v(" 독립 방식")]),t._v(" "),a("ul",[a("li",[t._v("서로 통합하지 않음. 독립적으로 모델 발전")]),t._v(" "),a("li",[t._v("한 시스템이 변경되면 수동으로 바운디드 컨텍스트 수정 및 통합")]),t._v(" "),a("li",[t._v("이는 한계가 있으므로 규모가 커지기 시작하면 두 바운디드 컨텍스트를 통합해야 함")]),t._v(" "),a("li",[t._v("그럴 수 없다면 두 바운디드 컨텍스트를 통합해주는 별도 시스템을 만들어야 함")])]),t._v(" "),a("h2",{attrs:{id:"컨텍스트-맵"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#컨텍스트-맵"}},[t._v("#")]),t._v(" 컨텍스트 맵")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://leejaedoo.github.io/assets/img/bounded_context6.jpg",alt:""}})]),t._v(" "),a("ul",[a("li",[t._v("전체 비즈니스를 조망하기 위한 지도")]),t._v(" "),a("li",[t._v("각 바운디드 컨텍스트의 경계 및 어떤 관계를 맺고 있는지")]),t._v(" "),a("li",[t._v("OHS(Open Host Service), ACL(Anti Corruption Layer) 표시")]),t._v(" "),a("li",[t._v("하위 도메인이나 조직 구조, 주요 애그리거트를 함께 표시하면 전체 관계 및 모델에 대한 이해에 도움이 됨")])])])}),[],!1,null,null,null);a.default=s.exports}}]);